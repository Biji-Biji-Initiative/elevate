## API Report File for "@elevate/http"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AuthenticationError } from '@elevate/types/errors';
import { AuthenticationError as AuthenticationError_2 } from '@elevate/types';
import { AuthorizationError } from '@elevate/types/errors';
import { AuthorizationError as AuthorizationError_2 } from '@elevate/types';
import { ConflictError } from '@elevate/types';
import { ElevateApiError } from '@elevate/types/errors';
import { ElevateApiError as ElevateApiError_2 } from '@elevate/types';
import { ErrorCode } from '@elevate/types/errors';
import { ErrorCode as ErrorCode_2 } from '@elevate/types';
import { ExternalServiceError } from '@elevate/types';
import { FileValidationError } from '@elevate/types';
import { NextRequest } from 'next/server';
import { NextResponse } from 'next/server';
import { NotFoundError } from '@elevate/types';
import { RateLimitError } from '@elevate/types';
import { SubmissionLimitError } from '@elevate/types';
import { ValidationError } from '@elevate/types/errors';
import { ValidationError as ValidationError_2 } from '@elevate/types';
import { z } from 'zod';

// @public (undocumented)
export interface ApiContext {
    // (undocumented)
    request: NextRequest;
    // (undocumented)
    startTime: number;
    // (undocumented)
    traceId: string;
    // (undocumented)
    validatedBody?: unknown;
    // (undocumented)
    validatedQuery?: unknown;
}

// @public (undocumented)
export type ApiHandler<_T = unknown> = (request: NextRequest, context: ApiContext) => Promise<NextResponse>;

export { AuthenticationError }

export { AuthorizationError }

// @public (undocumented)
export function badRequest(message: string, code?: ErrorCode, details?: unknown, traceId?: string): NextResponse;

// @public (undocumented)
export function compose(...middleware: Array<(req: NextRequest, ctx: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse>>): (handler: ApiHandler) => SimpleHandler;

// @public (undocumented)
export function conflict(message: string, details?: unknown, traceId?: string): NextResponse;

// @public (undocumented)
export function cors(options?: {
    origin?: string | string[];
    methods?: string[];
    headers?: string[];
    credentials?: boolean;
    exposeHeaders?: string[];
}): (request: NextRequest, _context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function createErrorResponse(error: unknown, fallbackStatus?: number, traceId?: string): NextResponse;

// @public
export function createMockContext(overrides?: Partial<{
    traceId: string;
    startTime: number;
}>): {
    traceId: string;
    startTime: number;
    request: Request;
};

// @public (undocumented)
export function createSuccessResponse<T>(data: T, status?: number): NextResponse;

export { ElevateApiError }

// @public
export class ErrorTestFactory {
    // (undocumented)
    static createAuthenticationError(message?: string): AuthenticationError_2;
    // (undocumented)
    static createAuthorizationError(message?: string): AuthorizationError_2;
    // (undocumented)
    static createConflictError(message?: string): ConflictError;
    // (undocumented)
    static createCustomError(message: string, code: ErrorCode_2, details?: unknown): ElevateApiError_2;
    // (undocumented)
    static createExternalServiceError(service?: string, operation?: string): ExternalServiceError;
    // (undocumented)
    static createFileValidationError(message?: string): FileValidationError;
    // (undocumented)
    static createNotFoundError(resource?: string, id?: string): NotFoundError;
    // (undocumented)
    static createRateLimitError(limit?: number, windowMs?: number): RateLimitError;
    // (undocumented)
    static createSubmissionLimitError(activityType?: string, currentCount?: number, maxAllowed?: number): SubmissionLimitError;
    // (undocumented)
    static createValidationError(fields?: string[]): ValidationError_2;
}

// @public
export const ErrorTestScenarios: {
    unauthenticated: {
        description: string;
        error: AuthenticationError_2;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    insufficientPermissions: {
        description: string;
        error: AuthorizationError_2;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    invalidRequestBody: {
        description: string;
        error: ValidationError_2;
        expectedStatus: number;
        expectedResponse: {
            success: boolean;
            error: string;
            code: string;
            details: any;
            timestamp: any;
            traceId: any;
        };
    };
    missingRequiredFields: {
        description: string;
        error: ValidationError_2;
        expectedStatus: number;
        expectedResponse: {
            success: boolean;
            error: string;
            code: string;
            details: any;
            timestamp: any;
            traceId: any;
        };
    };
    resourceNotFound: {
        description: string;
        error: NotFoundError;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    resourceConflict: {
        description: string;
        error: ConflictError;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    rateLimitExceeded: {
        description: string;
        error: RateLimitError;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    submissionLimitExceeded: {
        description: string;
        error: SubmissionLimitError;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    invalidFileType: {
        description: string;
        error: FileValidationError;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    externalServiceError: {
        description: string;
        error: ExternalServiceError;
        expectedStatus: number;
        expectedResponse: Record<string, unknown>;
    };
    internalServerError: {
        description: string;
        error: Error;
        expectedStatus: number;
        expectedResponse: {
            success: boolean;
            error: any;
            code: string;
            timestamp: any;
            traceId: any;
        };
    };
};

// @public (undocumented)
export function forbidden(message?: string, traceId?: string): NextResponse;

// @public (undocumented)
export function generateTraceId(): string;

// @public (undocumented)
export function isClientError(error: unknown): boolean;

// @public (undocumented)
export function isServerError(error: unknown): boolean;

// @public (undocumented)
export function logError(error: Error, traceId: string, context?: Record<string, unknown>): void;

// @public
export class MockResponseHelper {
    // (undocumented)
    static errorResponse(error: string, code?: string, details?: unknown): Record<string, unknown>;
    // (undocumented)
    static successResponse<T>(data: T): {
        success: boolean;
        data: T;
    };
    // (undocumented)
    static validationErrorResponse(fields: string[]): {
        success: boolean;
        error: string;
        code: string;
        details: any;
        timestamp: any;
        traceId: any;
    };
}

// @public (undocumented)
export function notFound(resource: string, id?: string, traceId?: string): NextResponse;

// @public
export function prepareErrorForLogging(error: Error, includeStack?: boolean): Record<string, unknown> & {
    details?: unknown;
};

// @public (undocumented)
export function rateLimit(maxRequests: number, windowMs: number): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function rateLimitExceeded(limit: number, windowMs: number, retryAfter?: number, traceId?: string): NextResponse;

// @public
export function redactObjectSensitiveData<T>(obj: T, maxDepth?: number): T;

// @public
export function redactSensitiveData(text: string, preserveLength?: boolean): string;

// @public (undocumented)
export function requestLogger(): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function requireAuth(): (_request: NextRequest, _context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function securityHeaders(): (request: NextRequest, _context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export type SimpleHandler = (request: NextRequest) => Promise<NextResponse>;

// @public
export const TestDataGenerators: {
    invalidJson: () => string;
    invalidZodData: (schema: z.ZodSchema) => {} | null;
    malformedFormData: () => FormData;
    largePayload: (sizeInMB?: number) => string;
    sqlInjectionAttempts: () => string[];
    xssAttempts: () => string[];
};

// @public
export function testErrorScenario(scenario: (typeof ErrorTestScenarios)[keyof typeof ErrorTestScenarios], response: {
    status: number;
    body: unknown;
}): void;

// @public (undocumented)
export const TRACE_HEADER = "X-Trace-Id";

// @public (undocumented)
export function unauthorized(message?: string, traceId?: string): NextResponse;

// @public (undocumented)
export function validateBody<T>(schema: z.ZodSchema<T>): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function validateQuery<T>(schema: z.ZodSchema<T>): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function validateRequest<T>(data: unknown, schema: z.ZodSchema<T>, customMessage?: string, traceId?: string): T;

export { ValidationError }

// @public (undocumented)
export function validationError(zodError: z.ZodError, customMessage?: string, traceId?: string): NextResponse;

// @public (undocumented)
export function withApiErrorHandling(handler: ApiHandler): SimpleHandler;

// @public (undocumented)
export function withErrorHandling<T extends (...args: unknown[]) => Promise<NextResponse>>(handler: T, context?: Record<string, unknown>): T;

// (No @packageDocumentation comment for this package)

```
