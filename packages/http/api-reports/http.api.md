## API Report File for "@elevate/http"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AuthenticationError } from '@elevate/types/errors';
import { AuthorizationError } from '@elevate/types/errors';
import { ElevateApiError } from '@elevate/types/errors';
import { ErrorCode } from '@elevate/types/errors';
import { NextRequest } from 'next/server';
import { NextResponse } from 'next/server';
import { ValidationError } from '@elevate/types/errors';
import { z } from 'zod';

// @public (undocumented)
export interface ApiContext {
    // (undocumented)
    request: NextRequest;
    // (undocumented)
    startTime: number;
    // (undocumented)
    traceId: string;
    // (undocumented)
    validatedBody?: unknown;
    // (undocumented)
    validatedQuery?: unknown;
}

// @public (undocumented)
export type ApiHandler<_T = unknown> = (request: NextRequest, context: ApiContext) => Promise<NextResponse>;

export { AuthenticationError }

export { AuthorizationError }

// @public (undocumented)
export function badRequest(message: string, code?: ErrorCode, details?: unknown, traceId?: string): NextResponse;

// @public (undocumented)
export function compose(...middleware: Array<(req: NextRequest, ctx: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse>>): (handler: ApiHandler) => SimpleHandler;

// @public (undocumented)
export function conflict(message: string, details?: unknown, traceId?: string): NextResponse;

// @public (undocumented)
export function cors(options?: {
    origin?: string | string[];
    methods?: string[];
    headers?: string[];
    credentials?: boolean;
    exposeHeaders?: string[];
}): (request: NextRequest, _context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function createErrorResponse(error: unknown, fallbackStatus?: number, traceId?: string): NextResponse;

// @public (undocumented)
export function createSuccessResponse<T>(data: T, status?: number): NextResponse;

export { ElevateApiError }

// @public (undocumented)
export function forbidden(message?: string, traceId?: string): NextResponse;

// @public (undocumented)
export function generateTraceId(): string;

// @public (undocumented)
export function isClientError(error: unknown): boolean;

// @public (undocumented)
export function isServerError(error: unknown): boolean;

// @public (undocumented)
export function logError(error: Error, traceId: string, context?: Record<string, unknown>): void;

// @public (undocumented)
export function notFound(resource: string, id?: string, traceId?: string): NextResponse;

// @public
export function prepareErrorForLogging(error: Error, includeStack?: boolean): Record<string, unknown> & {
    details?: unknown;
};

// @public (undocumented)
export function rateLimit(maxRequests: number, windowMs: number): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function rateLimitExceeded(limit: number, windowMs: number, retryAfter?: number, traceId?: string): NextResponse;

// @public
export function redactObjectSensitiveData(obj: unknown, maxDepth?: number): unknown;

// @public
export function redactSensitiveData(text: string, preserveLength?: boolean): string;

// @public (undocumented)
export function requestLogger(): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function requireAuth(): (_request: NextRequest, _context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function securityHeaders(): (request: NextRequest, _context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export type SimpleHandler = (request: NextRequest) => Promise<NextResponse>;

// @public (undocumented)
export const TRACE_HEADER = "X-Trace-Id";

// @public (undocumented)
export function unauthorized(message?: string, traceId?: string): NextResponse;

// @public (undocumented)
export function validateBody<T>(schema: z.ZodSchema<T>): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function validateQuery<T>(schema: z.ZodSchema<T>): (request: NextRequest, context: ApiContext, next: () => Promise<NextResponse>) => Promise<NextResponse<unknown>>;

// @public (undocumented)
export function validateRequest<T>(data: unknown, schema: z.ZodSchema<T>, customMessage?: string, traceId?: string): T;

export { ValidationError }

// @public (undocumented)
export function validationError(zodError: z.ZodError, customMessage?: string, traceId?: string): NextResponse;

// @public (undocumented)
export function withApiErrorHandling(handler: ApiHandler): SimpleHandler;

// @public (undocumented)
export function withErrorHandling<T extends (...args: unknown[]) => Promise<NextResponse>>(handler: T, context?: Record<string, unknown>): T;

// (No @packageDocumentation comment for this package)

```
