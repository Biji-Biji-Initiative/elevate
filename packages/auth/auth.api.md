## API Report File for "@elevate/auth"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { NextRequest } from 'next/server';
import { NextResponse } from 'next/server';
import { Role } from '@elevate/types';

// @public (undocumented)
export interface AuthUser {
    // (undocumented)
    email?: string;
    // (undocumented)
    name?: string;
    // (undocumented)
    role: RoleName;
    // (undocumented)
    userId: string;
}

// @public
export function createErrorResponse(error: unknown, fallbackStatus?: number): NextResponse;

// @public
export function createProtectedAction<TInput, TOutput>(minRole: RoleName, action: (user: AuthUser, input: TInput) => Promise<TOutput>): (input: TInput) => Promise<TOutput>;

// @public
export function createProtectedApiHandler(minRole: RoleName, handler: (user: AuthUser, req: NextRequest) => Promise<NextResponse>): (req: NextRequest) => Promise<NextResponse>;

// @public
export function getCurrentUser(): Promise<AuthUser | null>;

// @public
export function hasAnyRole(userRole: RoleName, requiredRoles: RoleName[]): boolean;

// @public
export function hasPermission(userRole: RoleName, permission: Permission): boolean;

// @public
export function hasRole(userRole: RoleName, requiredRole: RoleName): boolean;

// @public @deprecated (undocumented)
export function normalizeRole(role?: string): RoleName;

// @public
export function parseClerkEmailAddress(emailAddress: unknown): string | undefined;

// @public
export function parseClerkPublicMetadata(metadata: unknown): {
    role?: string;
};

// @public (undocumented)
export type Permission = (typeof ROLE_PERMISSIONS)[keyof typeof ROLE_PERMISSIONS][number];

// @public
export function requireRole(minRole: RoleName): Promise<AuthUser>;

// @public (undocumented)
export const ROLE_ORDER: readonly ["participant", "reviewer", "admin", "superadmin"];

// @public (undocumented)
export const ROLE_PERMISSIONS: {
    readonly participant: readonly ["view_profile", "submit_evidence", "view_leaderboard"];
    readonly reviewer: readonly ["view_profile", "submit_evidence", "view_leaderboard", "review_submissions", "approve_submissions", "reject_submissions"];
    readonly admin: readonly ["view_profile", "submit_evidence", "view_leaderboard", "review_submissions", "approve_submissions", "reject_submissions", "manage_users", "view_analytics", "export_data", "manage_badges"];
    readonly superadmin: readonly ["view_profile", "submit_evidence", "view_leaderboard", "review_submissions", "approve_submissions", "reject_submissions", "manage_users", "view_analytics", "export_data", "manage_badges", "manage_system", "manage_roles"];
};

// @public
export class RoleError extends Error {
    constructor(message: string, statusCode?: number);
    // (undocumented)
    statusCode: number;
}

// @public (undocumented)
export type RoleName = (typeof ROLE_ORDER)[number];

// @public (undocumented)
export function roleNameToRole(roleName: RoleName): Role;

// @public (undocumented)
export function roleToRoleName(role: Role): RoleName;

// @public
export function safeParseRole(role?: unknown): RoleName;

// @public
export function validateAuth(minRole?: RoleName): Promise<AuthUser>;

// @public
export function withRoleProtection<T extends unknown[], R>(minRole: RoleName, handler: (user: AuthUser, ...args: T) => R | Promise<R>): (...args: T) => Promise<R>;

// (No @packageDocumentation comment for this package)

```
